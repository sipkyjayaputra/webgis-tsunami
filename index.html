<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <title>PETA TSUNAMI PER WILAYAH INDONESIA TAHUN 416-218</title>
  </head>
  <body class="lead">
    <nav class="navbar navbar-expand-lg navbar-dark bg-info">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html" style="font-size: 16px"
          >PETA TSUNAMI PER WILAYAH INDONESIA PER TAHUN 416-218</a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav" style="font-size: medium">
            <li class="nav-item">
              <a class="nav-link" href="learn.html">Yuk Kenali Tsunami</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="reference.html">Referensi</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="member.html">Anggota</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="dataset.html">Dataset</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div style="padding: 0px">
      <div id="map" style="width: 100%; height: 90vh"></div>
    </div>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyASrdHP133sy5I8Z4IkgxZp2kz4IpFbME8"></script>

    <script src="data/dataset.js" type="text/javascript"></script>
    <script type="text/javascript">
      const iconBase =
        "https://developers.google.com/maps/documentation/javascript/examples/full/images/";

      var map = new google.maps.Map(document.getElementById("map"), {
        zoom: 5,
        center: new google.maps.LatLng(-2.6000285, 118.015776),
        mapTypeId: google.maps.MapTypeId.ROADMAP,
      });

      var infowindow = new google.maps.InfoWindow();

      var marker, i;

      for (i = 0; i < locations.length; i++) {
        marker = new google.maps.Marker({
          position: new google.maps.LatLng(locations[i][3], locations[i][4]),
          map: map,
          icon: {
            url: "gambar/icon.png", // url
            scaledSize: new google.maps.Size(20, 20), // scaled size
            origin: new google.maps.Point(0, 0), // origin
            anchor: new google.maps.Point(0, 0), // anchor
          },
        });

        google.maps.event.addListener(
          marker,
          "click",
          (function (marker, i) {
            return function () {
              if (locations[i][11]) {
                infowindow.setContent(
                  `
                        <div>
                            <span>Tanggal : ${locations[i][0]}</span><br />
                            <span>Magnitude : ${locations[i][1]}</span><br />
                            <span>Sumber Tsunami : ${locations[i][2]}</span><br />
                            <span>Lat : ${locations[i][3]}</span><br />
                            <span>Lon : ${locations[i][4]}</span><br />
                            <span>Ketinggian : ${locations[i][5]}</span><br />
                            <span>Catatan : ${locations[i][6]}</span><br />
                            <span>Referensi : ${locations[i][7]}</span><br />
                        </div>
                    `
                );
              } else {
                infowindow.setContent(
                  `
                        <div>
                            <span>Tanggal : ${locations[i][0]}</span><br />
                            <span>Magnitude : ${locations[i][1]}</span><br />
                            <span>Sumber Tsunami : ${locations[i][2]}</span><br />
                            <span>Lat : ${locations[i][3]}</span><br />
                            <span>Lon : ${locations[i][4]}</span><br />
                            <span>Ketinggian : ${locations[i][5]}</span><br />
                            <span>Catatan : ${locations[i][6]}</span><br />
                            <span>Referensi : ${locations[i][7]}</span><br />
                        </div>
                    `
                );
              }
              infowindow.open(map, marker);
            };
          })(marker, i)
        );
      }
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
